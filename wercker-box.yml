name: cordova
version: 0.0.3
inherits: wercker/ubuntu12.04-webessentials@1.0.4
type: service
platform: ubuntu@12.04
description: wercker box for building, testing and deploying cordova apps for android
keywords:
  - cordova
  - android
  - phonegap
  - testflight
package:
  - cordova@3.5.1
  - nodejs@0.10.30
script: |
  export NODE_VERSION=0.10.30
  sudo apt-get install wget build-essential
  cd $HOME
  mkdir nodeinstall
  cd nodeinstall
  wget http://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION.tar.gz
  tar zxvf node-v$NODE_VERSION.tar.gz
  cd node-v$NODE_VERSION
  ./configure
  make
  sudo make install
  cd $HOME
  rm -rf nodeinstall

  sudo add-apt-repository -y ppa:webupd8team/java
  sudo apt-get update -y
  echo debconf shared/accepted-oracle-license-v1-1 select true | sudo debconf-set-selections
  echo debconf shared/accepted-oracle-license-v1-1 seen true | sudo debconf-set-selections
  sudo apt-get install -y oracle-java8-installer

  sudo npm install -g grunt-cli
  sudo npm install -g cordova

  node --version
  npm --version
  java -version
  grunt --version
  cordova --version

